# IPLimiter

IPLimiter ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ–π, –Ω–æ –º–æ—â–Ω—ã–π –ø–ª–∞–≥–∏–Ω –¥–ª—è BungeeCord, –∫–æ—Ç–æ—Ä—ã–π –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π —Å –æ–¥–Ω–æ–≥–æ IP-–∞–¥—Ä–µ—Å–∞. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –ª–∏–º–∏—Ç—ã –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Å—Ç–æ–π –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ API –∏ –≤–∫–ª—é—á–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ —á–µ—Ä–µ–∑ bStats.

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîí –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏–≥—Ä–æ–∫–æ–≤, –ø–æ–¥–∫–ª—é—á–∞—é—â–∏—Ö—Å—è —Å –æ–¥–Ω–æ–≥–æ IP
- üìÉ –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ `\n` –¥–ª—è –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞)
- üõ°Ô∏è –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–∏–º–∏—Ç–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üì¶ –ü—Ä–æ—Å—Ç–æ–π –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ API (`IPLimitEvent`)
- üìä –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å bStats –¥–ª—è —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫
- ‚úÖ –õ—ë–≥–∫–∏–π –∏ –±—ã—Å—Ç—Ä—ã–π

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –°–∫–∞—á–∞–π—Ç–µ JAR-—Ñ–∞–π–ª –∏ –ø–æ–º–µ—Å—Ç–∏—Ç–µ –µ–≥–æ –≤ –ø–∞–ø–∫—É `plugins/` –≤–∞—à–µ–≥–æ BungeeCord-—Å–µ—Ä–≤–µ—Ä–∞.
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä.
3. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `config.yml` –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

---

## üìÅ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (`config.yml`)

```yaml
max-connections-per-ip: 3
kick-message: "There are already &c%limit% &7players connected from this IP!"

commands-enabled: true
metrics-enabled: true

messages:
  reload-success: "&a–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–µ–Ω–∞."
  setmax-usage: "&c–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: /iplimiter setmax <—á–∏—Å–ª–æ>"
  setmax-success: "&a–ú–∞–∫—Å–∏–º—É–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –Ω–∞ IP —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: &e%limit%"
  setmessage-usage: "&c–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: /iplimiter setmessage <—Å–æ–æ–±—â–µ–Ω–∏–µ>"
  setmessage-success: "&a–°–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –∫–∏–∫–µ –æ–±–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞:\n&e%message%"
  setmax-number-error: "&c–û—à–∏–±–∫–∞: –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —á–∏—Å–ª–æ."
  usage-header: "&7–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã /iplimiter:"
  usage:
    reload: "&7/iplimiter reload &8- &f–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é"
    setmax: "&7/iplimiter setmax <—á–∏—Å–ª–æ> &8- &f–ò–∑–º–µ–Ω–∏—Ç—å –ª–∏–º–∏—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π"
    setmessage: "&7/iplimiter setmessage <—Å–æ–æ–±—â–µ–Ω–∏–µ> &8- &f–ò–∑–º–µ–Ω–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–∏–∫–∞"
```

## API

–ü–ª–∞–≥–∏–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏–µ, –ø–æ–∑–≤–æ–ª—è—é—â–µ–µ –¥—Ä—É–≥–∏–º –ø–ª–∞–≥–∏–Ω–∞–º —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –ø–æ–ø—ã—Ç–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏–≥—Ä–æ–∫–æ–≤ —Å IP-–∞–¥—Ä–µ—Å–∞ –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ—Ç–º–µ–Ω—è—Ç—å —ç—Ç–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.

### –°–æ–±—ã—Ç–∏–µ `IPLimitEvent`

–≠—Ç–æ —Å–æ–±—ã—Ç–∏–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –∏–≥—Ä–æ–∫ –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è, –∞ –ª–∏–º–∏—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π —Å –µ–≥–æ IP –ø—Ä–µ–≤—ã—à–µ–Ω.

- **–ú–µ—Ç–æ–¥—ã:**
    - `Player getPlayer()` ‚Äî –ø–æ–ª—É—á–∏—Ç—å –æ–±—ä–µ–∫—Ç –∏–≥—Ä–æ–∫–∞, –∫–æ—Ç–æ—Ä—ã–π –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è.
    - `String getIp()` ‚Äî –ø–æ–ª—É—á–∏—Ç—å IP-–∞–¥—Ä–µ—Å –∏–≥—Ä–æ–∫–∞.
    - `int getLimit()` ‚Äî –ø–æ–ª—É—á–∏—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ª–∏–º–∏—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –Ω–∞ IP.
    - `void setCancelled(boolean cancel)` ‚Äî –æ—Ç–º–µ–Ω–∏—Ç—å (–∏–ª–∏ —Ä–∞–∑—Ä–µ—à–∏—Ç—å) –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ.
    - `boolean isCancelled()` ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –æ—Ç–º–µ–Ω–µ–Ω–æ –ª–∏ —Å–æ–±—ã—Ç–∏–µ.

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API –¥–ª—è –æ—Ç–º–µ–Ω—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

```java
import dev.six.iplimiter.event.IPLimitEvent;
import net.md_5.bungee.api.plugin.Listener;
import net.md_5.bungee.event.EventHandler;
import net.md_5.bungee.api.connection.ProxiedPlayer;
import net.md_5.bungee.api.chat.TextComponent;

public class MyListener implements Listener {

    @EventHandler
    public void onIPLimit(IPLimitEvent event) {
        // –û—Ç–º–µ–Ω–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ IP
        if (event.getIp().startsWith("192.168.")) {
            event.setCancelled(true);
            ProxiedPlayer player = event.getPlayer();
            player.disconnect(new TextComponent("–ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å —ç—Ç–æ–≥–æ IP –∑–∞–ø—Ä–µ—â–µ–Ω—ã."));
        }
    }
}
```

## –û–± –∞–≤—Ç–æ—Ä–µ

–ü–ª–∞–≥–∏–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω **6ex9one** ‚Äî —É–≤–ª–µ—á—ë–Ω–Ω—ã–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º Minecraft, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞—ë—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –∏ —É–¥–æ–±–Ω—ã–µ –ø–ª–∞–≥–∏–Ω—ã –¥–ª—è —Å–µ—Ä–≤–µ—Ä–æ–≤.

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã, –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–º–æ—á—å —Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π, –≤—ã –º–æ–∂–µ—Ç–µ —Å–≤—è–∑–∞—Ç—å—Å—è —Å–æ –º–Ω–æ–π:

- GitHub: [https://github.com/6ex9one](https://github.com/6ex9one)
- Discord: 6ex9one_
